<%- include('../partials/header.ejs',  (subPage) ? {subPage: subPage} : {subPage: false}) %> 

<form action="/r/<%= (subPage) ? `${subPage.title}/?_method=put` : "all/subPage/"%>" method="POST">
    <div class="row form-group">
        <label for="title" class="col-sm-2 col-form-label col-form-label-lg">Title:</label>
        <div class="col-sm-10">
        <input type="text" class="form-control form-control-lg" id="title" name="title" pattern="^\S+$" placeholder="cannot contain spaces" <% if (subPage) {%> value="<%=subPage.title%>" <% } %> required>
        </div>
    </div>
    <div class="row mb-3 form-group">
        <label for="description" class="col-sm-2 col-form-label">What is your SubPage about?</label>
        <div class="col-sm-10">
        <input type="text" class="form-control" id="description" <% if (subPage) {%> value="<%=subPage.description%>" <% } %>  name="description">
        </div>
    </div>
    <div class="row mb-3 form-group">
        <label for="banner" class="col-sm-2 col-form-label">Banner Image Link:</label>
        <div class="col-sm-10">
        <input type="text" class="form-control" id="banner" <% if (subPage) {%> value="<%=subPage.banner%>" <% } %> name="banner">
        </div>
    </div>
    <button type="submit" class="btn btn-primary">Post</button>
    <a href="/r/" class="btn btn-secondary">Cancel</a>
</form>
<% if (subPage) {%> 
    <form action="/r/<%=subPage.title%>/?_method=DELETE" method="POST" class="d-inline">
        <input type="submit" value="DELETE" class="btn btn-danger" />
      </form>
    <% } %> 